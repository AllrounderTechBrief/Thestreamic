/* =========================================================
   STREAMIC — Apple‑style UI (fast + smooth)
   ========================================================= */

/* -------------------- Variables -------------------- */
:root{
  --border:#e5e5e5;
  --soft:#f5f5f7;
  --text:#0b0d17;
  --text-dim:#1d1d1f;
  --blue:#0071e3;
  --card-bg:#ffffff;
  --card-shadow:0 8px 20px rgba(0,0,0,.10);
  --card-shadow-hover:0 18px 38px rgba(0,0,0,.18);
}

/* Auto dark mode */
@media (prefers-color-scheme: dark){
  :root{
    --border:#2a2a2a;
    --soft:#0a0a0a;
    --text:#f5f5f7;
    --text-dim:#e6e6e8;
    --card-bg:#101012;
    --card-shadow:0 10px 24px rgba(0,0,0,.55);
    --card-shadow-hover:0 24px 48px rgba(0,0,0,.65);
  }
}

/* -------------------- Base -------------------- */
*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,sans-serif;
  color:var(--text);
  background:#fff;
  -webkit-font-smoothing:antialiased;
  -moz-osx-font-smoothing:grayscale;
}
@media (prefers-color-scheme: dark){ body{ background:#000; } }

/* View Transitions (smooth page change) */
:root{ view-transition-name: root; }
::view-transition-old(root), ::view-transition-new(root){ animation-duration:.22s; }
@media (prefers-reduced-motion: reduce){
  ::view-transition-old(root), ::view-transition-new(root){ animation:none!important; }
}

/* -------------------- Header (Apple‑style) -------------------- */
.site-nav{
  background:#ffffff;
  border-bottom:1px solid #e6e6e6;
  height:56px; display:flex; align-items:center;
}
@media (prefers-color-scheme: dark){
  .site-nav{ background:#0b0b0b; border-bottom-color:#1b1b1b; }
}
.nav-inner{
  max-width:1400px; margin:0 auto; width:100%;
  padding:0 22px; display:flex; align-items:center; justify-content:space-between;
}
.nav-logo img{ height:24px; display:block; }
.nav-links{ display:flex; gap:26px; list-style:none; margin:0; padding:0; }
.nav-links a{
  text-decoration:none; font-size:14px; font-weight:500; letter-spacing:.3px;
  color:#1d1d1f; padding:4px 0; transition:color .2s ease;
}
.nav-links a:hover{ color:var(--blue); }
@media (prefers-color-scheme: dark){ .nav-links a{ color:#f5f5f7; } }
.nav-sep,.nav-toggle{ display:none!important; }

/* -------------------- Hero -------------------- */
.page-hero{ background:var(--soft); padding:56px 20px; }
.hero-inner{ max-width:1000px; margin:0 auto; }

/* -------------------- Grids -------------------- */
/* Home pages: 5‑up premium layout */
.card-grid{
  max-width:1400px; margin:0 auto; padding:40px 20px;
  display:grid; grid-template-columns:repeat(5, minmax(260px,1fr));
  gap:32px;
}
/* Category pages: 3 columns, lots of focus */
.category-wrap .card-grid,
.card-grid.category{
  max-width:1100px; margin:0 auto; padding:40px 10px;
  display:grid; grid-template-columns:repeat(3, 1fr);
  gap:32px;
}

/* Responsive */
@media (max-width:1100px){
  .card-grid{ grid-template-columns:repeat(3,1fr); }
}
@media (max-width:740px){
  .card-grid, .category-wrap .card-grid{ grid-template-columns:repeat(2,1fr); }
}
@media (max-width:480px){
  .card-grid, .category-wrap .card-grid{ grid-template-columns:1fr; }
}

/* -------------------- Cards -------------------- */
.card{
  background:var(--card-bg);
  border-radius:28px; overflow:hidden; padding:0;
  box-shadow:var(--card-shadow);
  transition:transform .25s ease, box-shadow .25s ease;
  cursor:pointer;
  /* Fade‑in: only when in view (class added by JS) */
  opacity:0; transform:translateY(18px);
}
.card.in-view{
  opacity:1; transform:none; transition:opacity .6s ease, transform .6s cubic-bezier(.22,1,.36,1);
}
/* Hover elevate (tilt is applied by JS via CSS vars) */
.card:hover{ box-shadow:var(--card-shadow-hover); }
.card.tilting{
  transform:perspective(900px) rotateX(var(--rx,0deg)) rotateY(var(--ry,0deg)) translateY(-4px);
}

/* Card image (parallax uses CSS var set by JS) */
.card-image img{
  width:100%; height:250px; object-fit:cover; display:block; border-radius:0;
  transform:translateY(var(--py, 0px)); will-change:transform;
  opacity:0; transition:opacity .5s ease;
}
.card-image img.loaded{ opacity:1; }

/* Apple‑style text */
.card-body{ padding:20px 18px 26px; }
.card-body h3{
  font-size:20px; font-weight:600; line-height:1.25; margin:0 0 8px;
  color:var(--text-dim); letter-spacing:-.01em;
}
.card-body .source{ font-size:14px; font-weight:400; opacity:.6; margin-top:4px; }

/* -------------------- Load more (centered, modern) -------------------- */
.load-more-wrap{ text-align:center; margin:40px 0 60px; }
#loadMoreBtn{
  background:#000; color:#fff; font-size:18px; padding:14px 32px; border-radius:30px;
  border:0; cursor:pointer; font-weight:500; transition:background .2s, transform .2s;
}
#loadMoreBtn:hover{ background:#333; transform:translateY(-3px); }
#loadMoreBtn:active{ transform:translateY(0); }
@media (prefers-color-scheme: dark){
  #loadMoreBtn{ background:#fff; color:#000; }
  #loadMoreBtn:hover{ background:#e9e9e9; }
}

/* -------------------- Footer -------------------- */
.site-footer{
  background:var(--soft); color:#253240; padding:44px 20px; margin-top:40px; border-top:1px solid var(--border);
}
.footer-grid{
  max-width:1200px; margin:0 auto; display:grid; grid-template-columns:2fr 1fr 1fr; gap:40px;
}
.site-footer a{ display:block; padding:2px 0; font-size:.9rem; text-decoration:none; color:#253240; }
.site-footer a:hover{ color:var(--blue); }
.footer-note{ text-align:center; margin-top:28px; font-size:.8rem; color:#66727f; }
@media (prefers-color-scheme: dark){
  .site-footer{ color:#d9dee6; }
  .site-footer a{ color:#d9dee6; }
  .footer-note{ color:#8994a3; }
}

/* -------------------- Accessibility: reduce motion -------------------- */
@media (prefers-reduced-motion: reduce){
  .card, .card:hover, .card.tilting{ transition:none!important; transform:none!important; }
  .card-image img{ transition:none!important; }
  #loadMoreBtn{ transition:none!important; }
}
