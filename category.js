let allItems=[];let visible=0;const BATCH=6;function renderCard(i){const a=document.createElement('a');a.className='card';a.href=i.link;a.target='_blank';a.rel='noopener';const w=document.createElement('div');w.className='card-image';const img=document.createElement('img');img.alt=i.source?('Image from '+i.source):'News image';img.src='assets/fallback.jpg';img.loading='lazy';if(i.image){const t=new Image();t.onload=()=>img.src=i.image;t.src=i.image}w.appendChild(img);a.appendChild(w);const b=document.createElement('div');b.className='card-body';const h=document.createElement('h3');h.textContent=i.title||'Untitled';const s=document.createElement('span');s.className='source';s.textContent=i.source||'';b.appendChild(h);b.appendChild(s);a.appendChild(b);return a}function showNext(){const grid=document.getElementById('content');allItems.slice(visible,visible+BATCH).forEach(i=>grid.appendChild(renderCard(i)));visible+=BATCH;const btn=document.getElementById('loadMoreBtn');if(btn&&visible>=allItems.length){btn.style.display='none'}}function loadSingleCategory(jsonFile){fetch('data/'+jsonFile).then(r=>r.json()).then(items=>{allItems=items||[];visible=0;showNext()})}document.addEventListener('DOMContentLoaded',()=>{const b=document.getElementById('loadMoreBtn');if(b) b.addEventListener('click',showNext)});